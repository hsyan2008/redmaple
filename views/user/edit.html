<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
{{template "head.html" .}}
<script type="text/javascript" src="/js/plugins/jquery.validate.min.js"></script>
<script type="text/javascript" src="/js/plugins/jquery.tagsinput.min.js"></script>
<script type="text/javascript" src="/js/plugins/jquery.alerts.js"></script>
<script type="text/javascript" src="/js/plugins/charCount.js"></script>
<script type="text/javascript" src="/js/plugins/ui.spinner.min.js"></script>
<script type="text/javascript" src="/js/plugins/chosen.jquery.min.js"></script>
<script type="text/javascript" src="/js/custom/usereditforms.js"></script>
</head>

<body class="withvernav">

<div class="bodywrapper">
    {{template "topheader.html" .}} 
    {{template "header.html" .}} 
    {{template "leftmenu.html" .}} 
    <div class="centercontent">
    
        <div class="pageheader notab">
            <h1 class="pagetitle">{{.Data.title}}</h1>
            <span class="pagedesc">{{.Data.title}}</span>
        </div><!--pageheader-->
        
        <div id="contentwrapper" class="contentwrapper">
        	
            <div id="validation" class="subcontent">
            	
                    <form id="form1" class="stdform stdform2" method="post" action="">
                        {{if eq .Action "edit"}}
                        <input type="hidden" name="id" id="id" value="{{.Data.user.Id}}" />
                        {{end}}
                    	<p>
                        	<label>用户名</label>
                            {{if eq .Action "edit"}}
                            <span class="field">{{.Data.user.Name}}</span>
                            {{else}}
                            <span class="field"><input type="text" name="name" id="name" class="longinput" value="{{.Data.user.Name}}" placeholder="登陆名，一旦创建将无法修改" /></span>
                            {{end}}
                        </p>

                    	<p>
                        	<label>真实名</label>
                            <span class="field"><input type="text" name="realname" id="realname" class="longinput" value="{{.Data.user.Realname}}" placeholder="请输入真实姓名，方便其他同事知道，并且会显示在git里" /></span>
                        </p>
                        
                        <p>
                        	<label>密码</label>
                            <span class="field"><input type="password" name="password" id="password" class="longinput" placeholder="请设置一个密码" /></span>
                        </p>

                        <p>
                        	<label>重复密码</label>
                            <span class="field"><input type="password" name="repassword" id="repassword" class="longinput" placeholder="重复输入一次密码" /></span>
                        </p>
                        
                        <p>
                        	<label>Email</label>
                            <span class="field"><input type="text" name="email" id="email" class="longinput" value="{{.Data.user.Email}}" placeholder="输入最常用的邮箱地址" /></span>
                        </p>

                        {{if eq .Action "add"}}
                        <p>
                        	<label>分组</label>
                            <span class="formwrapper field">
                            	<select data-placeholder="选择一个分组..." class="chzn-select" style="width:350px;" tabindex="2" name="group_id" id="group_id" required>
                                  <option value=""></option> 
                                  {{range $k, $v := .Data.groups}}
                                  <option value="{{$v.Id}}"{{if eq $.Data.user.GroupId $v.Id}} selected{{end}}>{{$v.Name}}</option> 
                                  {{end}}
                                </select>
                            </span>
                        </p>
                        {{end}}
                        
                        <p class="stdformbutton">
                        	<button class="submit radius2">Submit</button>
                            <input type="reset" class="reset radius2" value="Reset" />
                        </p>
                    </form>

            </div><!--subcontent-->
        
        </div><!--contentwrapper-->
        
	</div><!-- centercontent -->
    
    
</div><!--bodywrapper-->

</body>
</html>

